<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="author" content="Vance Lucas"><meta name="description"><title>Database Setup&mdash;Spot ORM</title><link href="/favicon.png" rel="icon"><link rel="alternate" href="/atom.xml" title="config.title" type="application/atom.xml"><link rel="stylesheet" href="/stylesheets/main.css"><link rel="stylesheet" href="/stylesheets/font-awesome.min.css"></head><body><nav id="topnav" role="navigation" class="navbar navbar-default"><div class="container"><a href="/" class="navbar-brand"><i class="fa fa-database"></i> Spot ORM</a><ul class="nav navbar-nav navbar-right pad-right"><li><a href="/">Home</a></li><li><a href="/docs">Documentation</a></li><li><a href="/articles">Articles</a></li></ul></div></nav><div class="container"><div class="row"><div class="col-md-2 col-lg-2"><div class="sidenav"><ul class="nav"><li><div class="nav-title">Setup</div><ul class="nav submenu"><li><a href="/docs/installation" title="Installation" class="link">Installation</a></li><li><a href="/docs/database-setup" title="Database Setup" class="link active">Database Setup</a></li></ul></li><li><div class="nav-title">Basics</div><ul class="nav submenu"><li><a href="/docs/mappers" title="Mappers" class="link">Mappers</a></li><li><a href="/docs/entities" title="Entities" class="link">Entities</a></li><li><a href="/docs/types" title="Field Types" class="link">Field Types</a></li><li><a href="/docs/migrations" title="Migrations" class="link">Migrations</a></li><li><a href="/docs/queries" title="Queries" class="link">Queries</a></li><li><a href="/docs/relations" title="Relations" class="link">Relations</a></li><li><a href="/docs/events" title="Events" class="link">Events</a></li></ul></li></ul></div></div><div class="col-md-10 col-lg-10"><section id="page_content"><article><div class="pull-right"><a href="https://github.com/vlucas/spot-site/blob/master/source/docs/database-setup/index.md" title="Improve this Documentation"><i class="fa fa-pencil"></i> edit</a></div><h1>Database Setup</h1><p>The <code>Spot\Locator</code> object is the main point of access to spot that you will
have to be able to access from everywhere you need to run queries or work with
your entities. It is responsible for loading mappers and manging configuration.
To create a Locator, you will need a <code>Spot\Config</code> object.</p>
<p>The <code>Spot\Config</code> object stores and references database connections by name.
Create a new instance of <code>Spot\Config</code> and add database connections with
DSN strings so Spot can establish a database connection, then create your
locator object:</p>
<figure class="highlight php"><pre><span class="variable">$cfg</span> = <span class="keyword">new</span> \Spot\Config();

<span class="comment">// MySQL</span>
<span class="variable">$cfg</span>-&gt;addConnection(<span class="string">'mysql'</span>, <span class="string">'mysql://user:password@localhost/database_name'</span>);
<span class="comment">// Sqlite</span>
<span class="variable">$cfg</span>-&gt;addConnection(<span class="string">'sqlite'</span>, <span class="string">'sqlite://path/to/database.sqlite'</span>);

<span class="variable">$spot</span> = <span class="keyword">new</span> \Spot\Locator(<span class="variable">$cfg</span>);
</pre></figure>

<p>You can also use <a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html" target="_blank" rel="external">DBAL-compatible configuration
arrays</a>
instead of DSN strings if you prefer:</p>
<figure class="highlight php"><pre><span class="variable">$cfg</span>-&gt;addConnection(<span class="string">'mysql'</span>, [
    <span class="string">'dbname'</span> =&gt; <span class="string">'mydb'</span>,
    <span class="string">'user'</span> =&gt; <span class="string">'user'</span>,
    <span class="string">'password'</span> =&gt; <span class="string">'secret'</span>,
    <span class="string">'host'</span> =&gt; <span class="string">'localhost'</span>,
    <span class="string">'driver'</span> =&gt; <span class="string">'pdo_mysql'</span>,
]);
</pre></figure>
</article></section></div></div></div><div class="container"><footer id="page_foot"><div class="row"><div class="col-md-8 col-lg-8"><p class="text-muted">Using Spot in an awesome project? <a href="http://twitter.com/vlucas">Let me know</a>!</p><p class="text-muted">Open source under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD license</a>.</p></p></div><div class="col-md-4 col-lg-4"><p class="text-muted text-right">Website built with&nbsp;<a href="http://hexo.io/">hexo</a></p></div><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-359731-14', 'phpdatamapper.com');
ga('send', 'pageview');</script></div></footer></div></body></html>